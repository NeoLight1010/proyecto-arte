import{i as e,v as t}from"./vendor.dfa3fcc4.js";import{c as r}from"./createSupabaseClient.74afd178.js";const o=r(),a=document.querySelector("#canvas"),n=new e.fabric.Canvas(a,{width:a.width,height:a.height,backgroundColor:"white"});n.isDrawingMode=!0,n.renderAll();const s=document.querySelector("#submit");s.onclick=async()=>{{(e=s).style.pointerEvents="none",e.style.cursor="default";const r=n.toJSON(),{error:a}=await o.from("gallery").insert([{id:t(),canvas_data:r}]);if(a)console.log("An error has occurred: ",a);else{const e=document.createElement("span");e.classList.add("mt3"),e.textContent="Dibujo enviado correctamente.",s.before(e),function(e){e.style.pointerEvents="auto",e.style.cursor="pointer"}(s),s.text="Ir a galer√≠a.",s.href="gallery.html"}}var e};
